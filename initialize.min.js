const fs=require("fs"),path=require("path");function cleanPathComponent(e){const t="-_.abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from(e).filter((e=>t.includes(e))).join("")}function cleanPath(e){return(e=e.split("?")[0].split("#")[0]).split("/").filter((e=>""!==e.trim())).map((e=>cleanPathComponent(e))).join("/")}function stepOne(){const e=fs.readFileSync("add_case_description_here.txt",{encoding:"utf-8"}).match(/https?:\/\/[^/\s]+\.dealeron\.com[^\s]*/g)||[];new Set(e).forEach((e=>{const t=e.match(/https?:\/\/([^.]+)\.dealeron\.com/);if(!t)return;const n=t[1],s=path.join("dealerships",n);fs.mkdirSync(s,{recursive:!0});const c=cleanPath(e.replace(/https?:\/\/[^/]+/,""));if(!c)return;const i=path.basename(c),o=path.dirname(c);let r=s;if(o&&"."!==o){const e=path.join(s,o);fs.mkdirSync(e,{recursive:!0}),r=e}const a=path.join(r,i+".html"),l=path.join(r,i+".css");fs.existsSync(a)||fs.writeFileSync(a,"\x3c!-- Please add custom content --\x3e",{encoding:"utf-8"}),fs.existsSync(l)||fs.writeFileSync(l,"/* Please add custom styles */",{encoding:"utf-8"});const d={dealer_id:n};fs.writeFileSync("dealer_id.json",JSON.stringify(d,null,4),{encoding:"utf-8"})})),console.log("Step One completed: Files processed and created.")}stepOne();